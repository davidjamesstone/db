{
  "tables": [
    {
      "name": "pet",
      "schema": "pet.json",
      "indexes": [
        {
          "columns": [
            "name"
          ]
        }
      ],
      "keys": [
        {
          "columns": [
            "name"
          ]
        }
      ]
    },
    {
      "name": "person",
      "schema": "person.json",
      "indexes": [
        {
          "columns": [
            "first_name",
            "last_name"
          ]
        },
        {
          "columns": [
            "ni"
          ],
          "unique": true
        }
      ]
    },
    {
      "name": "customer",
      "schema": "customer.json"
    },
    {
      "name": "product",
      "schema": "product.json"
    },
    {
      "name": "basket",
      "schema": "basket.json"
    },
    {
      "name": "basketline",
      "schema": "basketline.json"
    },
    {
      "name": "critic",
      "schema": "critic.json"
    },
    {
      "name": "movie",
      "schema": "movie.json"
    },
    {
      "name": "review",
      "schema": "review.json"
    }
  ],
  "relations": [
    {
      "name": "owner",
      "type": "BelongsToOne",
      "modelClass": "Person",
      "join": {
        "from": {
          "table": "pet",
          "column": "owner_id"
        },
        "to": {
          "table": "person",
          "column": "id"
        }
      },
      "onDelete": "CASCADE"
    },
    {
      "name": "pets",
      "type": "HasMany",
      "modelClass": "Pet",
      "join": {
        "from": {
          "table": "person",
          "column": "id"
        },
        "to": {
          "table": "pet",
          "column": "owner_id"
        }
      },
      "onDelete": "CASCADE"
    },
    {
      "name": "customer",
      "type": "BelongsToOne",
      "modelClass": "Customer",
      "join": {
        "from": {
          "table": "basket",
          "column": "customer_id"
        },
        "to": {
          "table": "customer",
          "column": "id"
        }
      },
      "onDelete": "CASCADE"
    },
    {
      "name": "basket",
      "type": "BelongsToOne",
      "modelClass": "Basket",
      "join": {
        "from": {
          "table": "basketline",
          "column": "basket_id"
        },
        "to": {
          "table": "basket",
          "column": "id"
        }
      },
      "onDelete": "CASCADE"
    },
    {
      "name": "lines",
      "type": "HasMany",
      "modelClass": "Basketline",
      "join": {
        "from": {
          "table": "basket",
          "column": "id"
        },
        "to": {
          "table": "basketline",
          "column": "basket_id"
        }
      },
      "onDelete": "CASCADE"
    },
    {
      "name": "basket",
      "type": "HasOne",
      "modelClass": "Basket",
      "join": {
        "from": {
          "table": "customer",
          "column": "id"
        },
        "to": {
          "table": "basket",
          "column": "customer_id"
        }
      },
      "onDelete": "CASCADE"
    },
    {
      "name": "product",
      "type": "HasOne",
      "modelClass": "Product",
      "join": {
        "from": {
          "table": "basketline",
          "column": "product_id"
        },
        "to": {
          "table": "product",
          "column": "id"
        }
      },
      "onDelete": "CASCADE"
    }, {
      "name": "reviews",
      "type": "ManyToMany",
      "modelClass": "Movie",
      "join": {
        "from": {
          "table": "critic",
          "column": "id"
        },
        "to": {
          "table": "movie",
          "column": "id"
        },
        "through": {
          "from": {
            "table": "review",
            "column": "critic_id"
          },
          "to": {
            "table": "review",
            "column": "movie_id"
          },
          "extra": ["rating", "body"],
          "modelClass": "Review"
        }
      },
      "onDelete": "CASCADE"
    }, {
      "name": "reviews",
      "type": "ManyToMany",
      "modelClass": "Critic",
      "join": {
        "from": {
          "table": "movie",
          "column": "id"
        },
        "to": {
          "table": "critic",
          "column": "id"
        },
        "through": {
          "from": {
            "table": "review",
            "column": "movie_id"
          },
          "to": {
            "table": "review",
            "column": "critic_id"
          },
          "extra": ["rating", "body"],
          "modelClass": "Review"
        }
      },
      "onDelete": "CASCADE"
    }
  ]
}